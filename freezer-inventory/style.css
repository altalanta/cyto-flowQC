:root{
  --bg:#0b1014; --panel:#121a21; --muted:#5a6b77; --text:#e6edf3; --primary:#0d9488; --accent:#22c55e; --warn:#f59e0b; --danger:#ef4444; --focus:#93c5fd;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--text);}

.app-header{position:sticky;top:0;background:linear-gradient(180deg,var(--panel),rgba(18,26,33,.9));backdrop-filter:saturate(140%) blur(8px);border-bottom:1px solid #1f2a33;z-index:10}
.app-header h1{margin:0;padding:16px 16px 8px;font-size:18px}
.filters{display:grid;grid-template-columns:1fr auto auto auto;gap:8px;padding:8px 16px 12px}
input[type=search],input[type=text],input[type=number],input[type=date],textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid #33424e;background:#0e151b;color:var(--text)}
input:focus,select:focus,textarea:focus{outline:2px solid var(--focus);outline-offset:2px}
.checkbox{display:flex;align-items:center;gap:8px}

#main{max-width:820px;margin:0 auto;padding:16px}

.empty{display:grid;place-items:center;text-align:center;gap:8px;padding:40px 0}
.empty .empty-art{font-size:56px;opacity:.8}

.add-section{margin-top:16px;padding:16px;border:1px solid #23303b;border-radius:12px;background:#0e151b}
.field{margin-bottom:12px}
.field-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.actions{display:flex;gap:8px}
.btn{appearance:none;border:1px solid #2a3946;background:#16222b;color:var(--text);padding:10px 12px;border-radius:10px;cursor:pointer}
.btn.primary{background:var(--primary);border-color:#0a7b71;color:#062b27;font-weight:600}
.btn:hover{filter:brightness(1.05)}
.fab{position:fixed;right:16px;bottom:16px;width:56px;height:56px;border-radius:50%;background:var(--accent);border:none;color:#05280d;font-size:28px;line-height:56px;text-align:center;cursor:pointer;box-shadow:0 6px 24px rgba(0,0,0,.35)}

.typeahead{position:relative}
.typeahead [role=option]{display:block;padding:8px 10px;border:1px solid #23303b;border-top:none;background:#0c1217}
.typeahead [role=option].active{background:#0f1a22}

#list{display:flex;flex-direction:column;gap:16px;margin-top:8px}
.group{border:1px solid #23303b;border-radius:12px;overflow:hidden}
.group h3{margin:0;padding:10px 12px;background:#101820;border-bottom:1px solid #23303b;font-size:14px;color:var(--muted)}
.cards{display:grid;grid-template-columns:1fr;}
.card{display:grid;grid-template-columns:1fr auto;gap:8px;padding:12px;border-top:1px solid #1a2630}
.card:first-child{border-top:none}
.card h4{margin:0;font-size:16px}
.meta{font-size:12px;color:var(--muted)}
.badges{display:flex;gap:6px;align-items:center}
.badge{font-size:11px;padding:2px 6px;border-radius:999px;background:#15242d;border:1px solid #24424f;color:#9cd9e3}
.badge.warn{background:#261f0c;border-color:#4f3e14;color:#ffd68a}
.card-actions{display:flex;gap:6px;align-items:center}
.small-btn{padding:6px 8px;border-radius:8px;border:1px solid #2a3946;background:#0e151b;color:var(--text);cursor:pointer}
.small-btn.consume{border-color:#275649;background:#0b1916}
.small-btn.edit{border-color:#394357;background:#0e1420}
.inline-panel{grid-column:1/-1;margin-top:6px;padding:8px;border:1px dashed #2a3946;border-radius:8px;background:#0e151b}
.inline-row{display:grid;grid-template-columns:1fr 1fr auto auto;gap:8px;align-items:end}
.validation{color:#ffd68a;margin-top:6px;min-height:1em}

.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:86px;min-width:200px;max-width:92vw;background:#10252b;border:1px solid #1f3f48;color:#bdf4ff;padding:10px 12px;border-radius:10px;box-shadow:0 8px 28px rgba(0,0,0,.4);opacity:0;pointer-events:none;transition:opacity .2s}
.toast.show{opacity:1}

.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

@media (min-width:700px){
  .cards{grid-template-columns:1fr 1fr}
}

